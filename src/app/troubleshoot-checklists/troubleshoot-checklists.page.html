<ion-content>
  <ion-fab vertical="top" horizontal="end" slot="fixed">
    <ion-fab-button (click)="saveCheckList(checklist)">
      <ion-icon name="checkmark"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-fab vertical="center" horizontal="end" slot="fixed">
    <ion-fab-button (click)="goToTop()">
      <ion-icon name="arrow-round-up"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-card>
    <ion-card-header>
      <ion-list>
        <ion-item>
            <ion-datetime [(ngModel)]="checklist.troubleshootdate" placeholder="Tanggal troubleshoot" display-format="YYYY-MM-DD"></ion-datetime>
        </ion-item>
        <ion-item>
          <ion-label>Pelaksana</ion-label>
          <ion-chip *ngFor="let user of checklist.users;let i=index;">
            <ion-label>{{user.username}}</ion-label>
            <ion-icon (click)="remove(checklist.users,i)" name="close-circle"></ion-icon>
          </ion-chip>
          <ion-button  slot="end" (click)="addImplementer()"><ion-icon name="more"></ion-icon></ion-button>
        </ion-item>
        <ion-item>
          <ion-label>Jenis Masalah</ion-label>
          <ion-input [(ngModel)]="checklist.problemtype" placeholder="Jenis Problem"></ion-input>
          <ion-button  slot="end" (click)="addProblemType()"><ion-icon name="more"></ion-icon></ion-button>
        </ion-item>
        <ion-item>
          <ion-label>Perangkat dibawa</ion-label>
          <ion-chip *ngFor="let device of checklist.devicesBrought;let i=index;">
            <ion-label>{{device.name}}</ion-label>
            <ion-icon (click)="remove(checklist.devicesBrought,i)" name="close-circle"></ion-icon>
          </ion-chip>
            <ion-button  slot="end" (click)="addDevice()"><ion-icon name="more"></ion-icon></ion-button>
        </ion-item>
        <ion-item>
          <ion-label>Perangkat terpakai</ion-label>
          <ion-chip *ngFor="let device of checklist.devicesUsed;let i=index;">
            <ion-label>{{device.name}}</ion-label>
            <ion-icon (click)="remove(checklist.devicesUsed,i)" name="close-circle"></ion-icon>
          </ion-chip>
            <ion-button  slot="end" (click)="addUsedDevice()"><ion-icon name="more"></ion-icon></ion-button>
        </ion-item>
      </ion-list>
      
      
      
      
      
      
    </ion-card-header>
  </ion-card>
  <ion-card *ngFor="let obj of checklist.troubleshootchecklistmaster">
    <ion-card-header>
        <ion-label color="primary">{{obj.category}}</ion-label>
    </ion-card-header>
    <ion-card-content>
        <ion-item>
            <ion-label text-wrap>
                {{ obj.id }}. {{ obj.name }}
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-checkbox slot="start"></ion-checkbox>
            <ion-input [(ngModel)]="obj.planning" placeholder="Planning"></ion-input>
          </ion-item>
          <ion-item>
            <ion-checkbox slot="start"></ion-checkbox>
            <ion-input [(ngModel)]="obj.hasil" placeholder="Hasil"></ion-input>  
          </ion-item>
          <ion-item>
            <ion-checkbox slot="start"></ion-checkbox>
            <ion-input [(ngModel)]="obj.target" placeholder="Target (Menit)"></ion-input>  
          </ion-item>
          <ion-item>
            <ion-textarea [(ngModel)]="obj.description" placeholder="Keterangan"></ion-textarea>
          </ion-item>      
    </ion-card-content>
  </ion-card>
</ion-content>
